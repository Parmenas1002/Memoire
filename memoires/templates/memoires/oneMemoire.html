{% extends 'layouts/base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% block self_title %}<title>{{memoire.topic}}</title>{% endblock %}
{% block self_css %}

<link rel="stylesheet" href="{% static 'memoires/p_view.css' %}">

{% endblock %}
{% block topbar %}
    <div class="container-fluid " id="topbar">
        <div class="row align-content-center justify-content-center">
            <div class="col-md-12">
                <h4 class="text-white pt-3" id="formation">{{memoire.filiere.entity.university.name}}-{{memoire.filiere.entity.name}}-{{memoire.filiere.name}} | {{memoire.academicYear}} </h4>
                <h4 class="titre mt-4 mb-4 text-center">{{memoire.topic}}</h4>
                <p class="text-right text-white"> Rédigé et soutenu par : {{memoire.etudiants}} le {{memoire.get_soutenance.date_planned.date}}</p>
            </div>
        </div>
    </div>
{% endblock %}

{% block header%}
    <section id="top" class="d-flex align-items-center" >
        <div class="container">
            <div class="row justify-content-center align-content-center">
                <div class="col-md-9">
                    <div class="uk-card uk-card-default shadow" id="card">
                        <div class="uk-card-media-top uk-cover-container">
                            <img src="{{ memoire.presentationImage.url }}" alt="" width="100%" height="50%" uk-cover>
                            <canvas width="700" height="400"></canvas>
                        </div>   
                    </div>
                </div>
            
            </div>
        </div>
    </section>

    <div class="container mb-4">
        <div class="row justify-content-center align-content-center">
            <div class="col-md-9 ">
                <div class="card shadow mb-3">                       
                    <div class="card-header py-3">
                        <p class="text-primary m-0 font-weight-bold">Résumé et descriptif</p>
                    </div>
                    <div class="card-body shadow pb-3 pt-2">
                        <p class="text-justify">{{memoire.abstract}}</p>
                        <p class="text-center">Encadré par : <span id="supervisor">{{memoire.supervisor}}</span> </p>
                        <p id="supervisor" class="transform-underline">Jury N° {{memoire.get_soutenance.jury_number}} :
                            <ul>
                                {% for role in roles %}
                                    <li>{{role.teacher.last_name}} {{role.teacher.first_name}} : {{role.get_role_display}}</li>
                                {% endfor %}
                            </ul>
                        </p>

                        <p class="text-center mt-4" id="supervisor">Document du mémoire</p>
                        <div class="text-center" id="document">
                            <p><a href="{{memoire.document.url}}" class="link">Lire le document</a></p>
                            <p class="mt-1"><a href="{{memoire.document.url}}" class="link" download>Télécharger le document</a></p>  
                        </div>
                    </div>
                </div>
            </div>
        
        </div>
    </div>
{% endblock%}

{% block content %}

{% endblock%}
